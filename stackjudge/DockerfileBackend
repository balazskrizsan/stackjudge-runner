FROM maven:3.8.3-openjdk-17

COPY ./backend /project/backend

RUN  cd /project/backend && mvn clean install -DskipTests=true

EXPOSE 8181

ENTRYPOINT ["java", "--enable-preview", "-DSERVER_PORT=8183", "-jar", "/project/backend/snapshot/stackjudge-snapshot.jar"]
